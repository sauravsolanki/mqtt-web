<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DeepEdge MQTT Server</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
    <script type="text/javascript" language="JavaScript">
        var mqtt;

        var reconnectTimeout = 2000;
        var host = "192.168.10.59";
        var port = "";

        function onConnect() {
            console.log("connected");
            message = new Paho.MQTT.Message("Hello world");
            message.destinationName = "sensor1";
            mqtt.send(message);

        }

        function MQTTConnect() {
            console.log("connecting to " + host + ":" + port);
            mqtt = new Paho.MQTT.Client(host,port,"clientjs");
            var options = {
                timeout:3,
                onSuccess: onConnect,
            }
            console.log("connected to " + host + ":" + port);
            
        }


    </script>

</head>

<body>
    <script>
        MQTTConnect();
    </script>
</body>

</html>